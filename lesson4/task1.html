<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Code parser</title>
    </head>
    <body>
        <input type="text" id="txtInput" maxlength="100" autofocus>
        <input type="button" value="Sum" onclick="getSum(checkInput())">
        <input type="button" value="Mean" onclick="getMean(checkInput())">
        <input type="button" value="Median" onclick="getMedian(checkInput())">
        <output id="result"></output>
        <script>
        
            function checkInput() {
                let str = document.getElementById("txtInput").value;
                let a = str.trim().split(/[:;,\s]+/g);
                let b = [];
                
                for(let i in a) 
                    if ( !isNaN(a[i]) && a[i] ) b.push( parseFloat(a[i]) );
                return b;
            }
           
            function getSum(a) {
                let sum = 0;
                for (let i of a) sum += i;
                document.getElementById("result").innerHTML = "sum: " + sum.toFixed(2);
                return sum;
            }
            
            function getMean(a) {
                let mean = getSum(a) / a.length;
                document.getElementById("result").innerHTML = "mean: " + mean.toFixed(2);
                return mean;
            }
            
            function getMedian(a) {
                a = a.sort();
                let x = Math.floor(a.length/2);         //upper index of half
                if (a.length%2 == 0) {                  // even
                    let median = (a[x]+a[x-1])/2;
                    document.getElementById("result").innerHTML = "median: " + median.toFixed(2);
                    return median;
                }
                
                else {
                    let median = a[x];
                    document.getElementById("result").innerHTML = "median: " + median.toFixed(2);
                    return median;
                }
                
            }

        </script>

    </body>
</html>